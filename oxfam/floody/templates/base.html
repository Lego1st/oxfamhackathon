{% load staticfiles %} 
{% load static %}
<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <!-- <link rel="stylesheet" href="{% static 'font-awesome-4.7.0/css/font-awesome.min.css' %}" />
    <link rel="stylesheet" href="{% static 'font-awesome-4.7.0/css/font-awesome.css' %}" /> -->
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <!-- <link href="http://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.3.0/css/font-awesome.css" rel="stylesheet" type='text/css'> -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link href="https://fonts.googleapis.com/css?family=Lobster|Playfair+Display|Playfair+Display+SC" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'css/style.css' %}" />
    <script type="text/javascript"
         src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDPJKsp0KIXVQNZTO8DY1xT6G3fcCvG3Jg&libraries=visualization,places">
    </script>
    <title>
        {% block title %} Floody Alert {% endblock title %}
    </title>
    {% block header %}{% endblock header %}

</head>

<meta name="viewport" content="width=device-width, initial-scale=1"> 

<body>
    <div class="hero-image">
        <div class="hero-text">
            <h1 style="font-size: 50px">Floody Alert</h1>
            <h2 style="font-size: 30px;" >Travel more safely</h2>
        </div>
    </div>
    <h3 style="text-align:center">There are {{ posts|length }} flooding locations.</h3>
    <form class="form-horizontal" role="form" method="POST" action="{% url 'floody:post' %}"  enctype="multipart/form-data">
        {% csrf_token %}
        <div class="form-group">
            <div class="input-group">
                <label class="btn btn-info btn-lg float-upload">
                    <i class="fa fa-upload fa-2x" style="margin-left: -3px;">
                        <input type="file" style="display: none;" name='image' class="form-control" id="file" required>
                    </i>
                </label>
            </div>
            <div class="input-group">
                <input type="text" class="form-control" style="display:none;" name="location" id="location"/>
            </div>
        </div>
        <div class="form-group ">
            <button type="submit" class="btn btn-primary btn-lg btn-block btn-upload" style="display:none;">Upload</button>
        </div>
    </form>
    <a type="button" id="here" class="controls btn btn-lg float-here">
        <i class="fa fa-compass fa-2x" aria-hidden="true" style="margin-left:-2px;"></i>
    </a>
    {% if user.is_authenticated %}
     <a href="{% url 'floody:logged out' %}" type="button" class="btn btn-info btn-lg float-log-out">
         <i class="fa fa-sign-out fa-2x" aria-hidden="true"></i>
    </a>
    {% else %}
        <a type="button" class="btn btn-info btn-lg float-acc" data-toggle="modal" data-target="#myModal">
        <i class="fa fa-user fa-2x" aria-hidden="true"></i>
        </a>
    {% endif %}
    <div class="container" id="container">
        <div class="modal fade" id="myModal" role="dialog">
            <div class="modal-dialog">
        
                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title">Accounts</h4>
                    </div>
                    <div class="modal-body">
                            <div class="row">
                                <div class="col-xs-3" style="text-align:center;"></div>
                                <div class="col-xs-2" style="text-align:center;">
                                    <a class="btn btn-primary loggin-btn">Log in </a> 
                                </div>
                                <div class="col-xs-2" style="text-align:center;">
                                    <h3 style="margin-top: -0px;">or</h3>
                                </div>
                                <div class="col-xs-2" style="text-align:center;">
                                    <a class="btn btn-success sign-up-btn">Sign up</a>
                                </div>
                                <div class="col-xs-3" style="text-align:center;"></div>
                            </div>
                            <div class="row sign-up">
                                <div class="col-xs-3"></div>
                                <div class="col-xs-6">
                                    <div class="main-sign-up">
                                        <div class="panel-heading">
                                            <div class="panel-title text-center">
                                                <h1 class="title">Registration</h1>
                                                <hr />
                                            </div>
                                        </div>
                                        <div class="main-login main-center content">
                                            <form class="form-horizontal" role="form" method="POST" action="{% url 'floody:register complete' %}">
                                                {% csrf_token %}
                                                <div class="form-group">
                                                    <label for="name" class="cols-sm-2 control-label">Username</label>
                                                    <div class="cols-sm-10">
                                                        <div class="input-group">
                                                            <span class="input-group-addon">
                                                                <i class="fa fa-user fa" aria-hidden="true"></i>
                                                            </span>
                                                            <input type="text" class="form-control" name="username" id="name" placeholder="Enter your username" />
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label for="email" class="cols-sm-2 control-label">Phone</label>
                                                    <div class="cols-sm-10">
                                                        <div class="input-group">
                                                            <span class="input-group-addon">
                                                                <i class="fa fa-envelope fa" aria-hidden="true"></i>
                                                            </span>
                                                            <input type="text" class="form-control" name="first_name" id="email" placeholder="Enter your phone number" />
                                                        </div>
                                                    </div>
                                                </div>
                                
                                                <div class="form-group">
                                                    <label for="password" class="cols-sm-2 control-label">Password</label>
                                                    <div class="cols-sm-10">
                                                        <div class="input-group">
                                                            <span class="input-group-addon">
                                                                <i class="fa fa-lock fa-lg" aria-hidden="true"></i>
                                                            </span>
                                                            <input type="password" class="form-control" name="password" id="password" placeholder="Enter your Password" />
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    {% if error != None %} {% for e in error %}
                                                    <p style="color:red;">{{e}}</p>
                                                    {% endfor %} {% endif %}
                                                </div>
                                                <div class="form-group ">
                                                    <button type="submit" class="btn btn-primary btn-lg btn-block login-button">Register</button>
                                                </div>
                                            </form>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row loggin">
                                <div class="col-xs-3"></div>
                                <div class="col-xs-6">
                                    <div class="main-loggin">
                                        <div class="panel-heading">
                                            <div class="panel-title text-center">
                                                <h1 class="title">Login</h1>
                                                <hr />
                                            </div>
                                        </div>
                                        <div class="main-login main-center content">
                                            <form class="form-horizontal" role="form" method="POST" action="{% url 'floody:logged in' %}">
                                                {% csrf_token %}
                                                <div class="form-group">
                                                    <label for="name" class="cols-sm-2 control-label">Username</label>
                                                    <div class="cols-sm-10">
                                                        <div class="input-group">
                                                            <span class="input-group-addon">
                                                                <i class="fa fa-user fa" aria-hidden="true"></i>
                                                            </span>
                                                            <input type="text" class="form-control" name="username" id="name" placeholder="Enter your username" />
                                                        </div>
                                                    </div>
                                                </div>
                                
                                                <div class="form-group">
                                                    <label for="password" class="cols-sm-2 control-label">Password</label>
                                                    <div class="cols-sm-10">
                                                        <div class="input-group">
                                                            <span class="input-group-addon">
                                                                <i class="fa fa-lock fa-lg" aria-hidden="true"></i>
                                                            </span>
                                                            <input type="password" class="form-control" name="password" id="password" placeholder="Enter your Password" />
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    {% if error != None %} {% for e in error %}
                                                    <p style="color:red;">{{e}}</p>
                                                    {% endfor %} {% endif %}
                                                </div>
                                                <div class="form-group">
                                                    {% if messages %}
                                                    <ul class="messages">
                                                        {% for message in messages %}
                                                        <li{% if message.tags %} class="{{ message.tags }}" {% endif %}>{{ message }}</li>
                                                            {% endfor %}
                                                    </ul>
                                                    {% endif %}
                                                </div>
                                                <div class="form-group ">
                                                    <button type="submit" class="btn btn-primary btn-lg btn-block login-button">Login</button>
                                                </div>
                                            </form>
                                        </div>
                                    </div>
                                </div>
                            </div>
                    
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    </div>
                </div>
        
            </div>
        </div>

    </div>
    {% block content %} {% endblock content %}
    
    <footer>
        <div class="footer" id="footer">
            <div class="container" >
                <div class="row" >
                    <!-- <div class="col-lg-2  col-md-2 col-sm-4 col-xs-6"></div> -->
                    <div class="col-lg-2  col-md-2 col-sm-4 col-xs-6 col-md-offset-4">
                        <h3> Contact us </h3>
                        <ul>
                            <li>
                                <a href="https://www.facebook.com/tiensinh.vu"> Vu Tien Sinh </a>
                            </li>
                            <li>
                                <a href="https://www.facebook.com/tafilong"> Nguyen Tai Long </a>
                            </li>
                            <li>
                                <a href="https://www.facebook.com/lego1st"> Nguyen Trung Nghia </a>
                            </li>
                        </ul>
                    </div>

                    <div class="col-lg-2  col-md-2 col-sm-4 col-xs-6">
                        <h3> More Contact </h3>
                        <ul class="social" >
                            <li>
                                <a href="http://fb.com" target="_blank">
                                    <i class=" fa fa-facebook"> </i>
                                </a>
                            </li>
                            <li>
                                <a href="http://twitter.com" target="_blank">
                                    <i class="fa fa-twitter"> </i>
                                </a>
                            </li>
                            <li>
                                <a href="http://youtube.com" target="_blank">
                                    <i class="fa fa-youtube"> </i>
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
                <!--/.row-->
            </div>
            <!--/.container-->
        </div>
        <!--/.footer-->

        <div class="footer-bottom">
            <div class="container" style="margin: auto; max-width: 360 px;">
                <p style="text-align: center;"> Copyright Â© SNL 2017. All right reserved. </p>
            </div>
        </div>
        <!--/.footer-bottom-->
    </footer>
</body>
<script>
    $(document).ready(function () {
        var el = document.getElementById('container');
        el.scrollIntoView(true);
    });
    $(document).ready(function () {
        var elMessages = $('.messages');
        if (elMessages.length && content) {
            $('.loggin').css('display', 'block');
            $('.sign-up').css('display', 'none');
            $('.float-acc').click();
        }
        else{
            $('.loggin').css('display', 'none');
            $('.sign-up').css('display', 'none');
        }
    })
    $('a.loggin-btn').click(function () {
        $('.loggin').css('display', 'block');
        $('.sign-up').css('display', 'none');
    })
    $('a.sign-up-btn').click(function () {
        $('.loggin').css('display', 'none');
        $('.sign-up').css('display', 'block');
    })

    $("#file").on('change', function () {
        $('input#location').val('21.026140 105.821217');
        $('.btn-upload').click();
    })
    var labels = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
    var labelIndex = 0;
    var map, infoWindow;
    var pos;
    function initialize() {
        var hanoi = { lat: 21.07, lng: 105.83 };
        map = new google.maps.Map(document.getElementById('map'), {
            zoom: 12,
            center: hanoi
        });
        var points = '{{ posts|escapejs }}';
        points = points.replace('[', '')
        points = points.replace(']', '')
        points = points.split(',')
        var heatmapData = [];
        for (i=0; i < points.length; i++){
            var temp = points[i].replace('u', '')
            if (i > 0){
                temp = temp.replace(' ', '')
            }
            temp = temp.split(" ")
            heatmapData.push(new google.maps.LatLng(parseFloat(temp[0].replace("'", '')), parseFloat(temp[1].replace("'", ''))));
        }
        var heatmap = new google.maps.visualization.HeatmapLayer({
            data: heatmapData
        });
        heatmap.setMap(map);



        for (i in heatmapData) {
            (function (index) {
                var heat = heatmapData[i]

                var marker = new google.maps.Marker({
                    position: heat,
                    map: map,
                    icon: {
                        path: google.maps.SymbolPath.CIRCLE,
                        scale: 5,
                    }
                })

                marker.setOpacity(0);

                marker.addListener('click', function () {
                    var infowindow = new google.maps.InfoWindow({
                        content: "<div> <img src='data:image/jpeg;base64,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' width=150 data-toggle='modal' data-target='#myModal'></div>"
                    });
                    infowindow.open(map, marker);
                })
            })(i);
        }

        // Try HTML5 geolocation.
        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(function (position) {
                console.log(position)
                pos = {
                    lat: position.coords.latitude,
                    lng: position.coords.longitude
                };

                map.setCenter(pos);
                addMarker(pos, map, 'Me');
            }, function () {
                handleLocationError(true, infoWindow, map.getCenter());
            });
        } else {
            // Browser doesn't support Geolocation
            handleLocationError(false, infoWindow, map.getCenter());
        }

        new AutocompleteDirectionsHandler(map);


    }

    // Adds a marker to the map.
    function addMarker(location, map, mylable) {
        // Add the marker at the clicked location, and add the next-available label
        // from the array of alphabetical characters.
        var marker = new google.maps.Marker({
            position: location,
            label: mylable,
            map: map
        });
    }

    function handleLocationError(browserHasGeolocation, infoWindow, pos) {
        infoWindow.setPosition(pos);
        infoWindow.setContent(browserHasGeolocation ?
            'Error: The Geolocation service failed.' :
            'Error: Your browser doesn\'t support geolocation.');
        infoWindow.open(map);
    }


    function AutocompleteDirectionsHandler(map) {
        this.map = map;
        this.originPlaceId = null;
        this.destinationPlaceId = null;
        this.travelMode = 'WALKING';
        var originInput = document.getElementById('origin-input');
        var destinationInput = document.getElementById('destination-input');
        var modeSelector = document.getElementById('mode-selector');
        this.directionsService = new google.maps.DirectionsService;
        this.directionsDisplay = new google.maps.DirectionsRenderer({
            draggable: true,
            map: map
        });

        var originAutocomplete = new google.maps.places.Autocomplete(
            originInput, { placeIdOnly: true });
        var destinationAutocomplete = new google.maps.places.Autocomplete(
            destinationInput, { placeIdOnly: true });
        // var placeid;

        this.setupClickListener('changemode-walking', 'WALKING');
        this.setupClickListener('changemode-transit', 'TRANSIT');
        this.setupClickListener('changemode-driving', 'DRIVING');

        this.setupPlaceChangedListener(originAutocomplete, 'ORIG');
        this.setupPlaceChangedListener(destinationAutocomplete, 'DEST');

        this.init()

        this.map.controls[google.maps.ControlPosition.TOP_LEFT].push(originInput);
        this.map.controls[google.maps.ControlPosition.TOP_LEFT].push(destinationInput);
        this.map.controls[google.maps.ControlPosition.TOP_LEFT].push(modeSelector);
    }

    // Sets a listener on a radio button to change the filter type on Places
    // Autocomplete.
    AutocompleteDirectionsHandler.prototype.init = function () {
        var me = this;
        var origin = true;
        $('#origin-input').on('focus click', function () {
            origin = true;
        });
        $('#destination-input').on('focus click', function () {
            origin = false;
        });
        $('#here').click(function () {
            var geocoder = new google.maps.Geocoder;
            var latlng = pos;

            geocoder.geocode({ 'location': latlng }, function (results, status) {
                if (status === google.maps.GeocoderStatus.OK) {
                    if (results[1]) {
                        if (origin) {
                            me.originPlaceId = results[1].place_id;
                            $('#origin-input').val(results[1].formatted_address);
                        } else {
                            me.destinationPlaceId = results[1].place_id;
                            $('#destination-input').val(results[1].formatted_address);
                        }
                        me.route();
                    } else {
                        window.alert('No results found');
                    }
                } else {
                    window.alert('Geocoder failed due to: ' + status);
                }
            });
        })
    }

    AutocompleteDirectionsHandler.prototype.setupClickListener = function (id, mode) {
        var radioButton = document.getElementById(id);
        var me = this;
        radioButton.addEventListener('click', function () {
            me.travelMode = mode;
            me.route();
        });
    };


    AutocompleteDirectionsHandler.prototype.setupPlaceChangedListener = function (autocomplete, mode) {
        var me = this;
        autocomplete.bindTo('bounds', this.map);
        autocomplete.addListener('place_changed', function () {
            var place = autocomplete.getPlace();
            if (!place.place_id) {
                window.alert("Please select an option from the dropdown list.");
                return;
            }
            if (mode === 'ORIG') {
                me.originPlaceId = place.place_id;
            } else {
                me.destinationPlaceId = place.place_id;
            }
            me.route();
        });

    };

    AutocompleteDirectionsHandler.prototype.route = function () {
        if (!this.originPlaceId || !this.destinationPlaceId) {
            return;
        }
        var me = this;

        this.directionsService.route({
            origin: { 'placeId': this.originPlaceId },
            destination: { 'placeId': this.destinationPlaceId },
            travelMode: this.travelMode
        }, function (response, status) {
            if (status === 'OK') {
                me.directionsDisplay.setDirections(response);
            } else {
                window.alert('Directions request failed due to ' + status);
            }
        });
    };


    google.maps.event.addDomListener(window, 'load', initialize);
</script>

</html>